{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/esnext.iterator.constructor.js\");\nrequire(\"core-js/modules/esnext.iterator.filter.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stringify = void 0;\nconst utils_1 = require(\"./utils.js\");\nconst formats_1 = require(\"./formats.js\");\nconst has = Object.prototype.hasOwnProperty;\nconst array_prefix_generators = {\n  brackets(prefix) {\n    return String(prefix) + '[]';\n  },\n  comma: 'comma',\n  indices(prefix, key) {\n    return String(prefix) + '[' + key + ']';\n  },\n  repeat(prefix) {\n    return String(prefix);\n  }\n};\nconst is_array = Array.isArray;\nconst push = Array.prototype.push;\nconst push_to_array = function (arr, value_or_array) {\n  push.apply(arr, is_array(value_or_array) ? value_or_array : [value_or_array]);\n};\nconst to_ISO = Date.prototype.toISOString;\nconst defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  allowEmptyArrays: false,\n  arrayFormat: 'indices',\n  charset: 'utf-8',\n  charsetSentinel: false,\n  delimiter: '&',\n  encode: true,\n  encodeDotInKeys: false,\n  encoder: utils_1.encode,\n  encodeValuesOnly: false,\n  format: formats_1.default_format,\n  formatter: formats_1.formatters[formats_1.default_format],\n  /** @deprecated */\n  indices: false,\n  serializeDate(date) {\n    return to_ISO.call(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false\n};\nfunction is_non_nullish_primitive(v) {\n  return typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean' || typeof v === 'symbol' || typeof v === 'bigint';\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n  let obj = object;\n  let tmp_sc = sideChannel;\n  let step = 0;\n  let find_flag = false;\n  while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n    // Where object last appeared in the ref tree\n    const pos = tmp_sc.get(object);\n    step += 1;\n    if (typeof pos !== 'undefined') {\n      if (pos === step) {\n        throw new RangeError('Cyclic object value');\n      } else {\n        find_flag = true; // Break while\n      }\n    }\n    if (typeof tmp_sc.get(sentinel) === 'undefined') {\n      step = 0;\n    }\n  }\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate?.(obj);\n  } else if (generateArrayPrefix === 'comma' && is_array(obj)) {\n    obj = (0, utils_1.maybe_map)(obj, function (value) {\n      if (value instanceof Date) {\n        return serializeDate?.(value);\n      }\n      return value;\n    });\n  }\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ?\n      // @ts-expect-error\n      encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n    }\n    obj = '';\n  }\n  if (is_non_nullish_primitive(obj) || (0, utils_1.is_buffer)(obj)) {\n    if (encoder) {\n      const key_value = encodeValuesOnly ? prefix\n      // @ts-expect-error\n      : encoder(prefix, defaults.encoder, charset, 'key', format);\n      return [formatter?.(key_value) + '=' +\n      // @ts-expect-error\n      formatter?.(encoder(obj, defaults.encoder, charset, 'value', format))];\n    }\n    return [formatter?.(prefix) + '=' + formatter?.(String(obj))];\n  }\n  const values = [];\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n  let obj_keys;\n  if (generateArrayPrefix === 'comma' && is_array(obj)) {\n    // we need to join elements in\n    if (encodeValuesOnly && encoder) {\n      // @ts-expect-error values only\n      obj = (0, utils_1.maybe_map)(obj, encoder);\n    }\n    obj_keys = [{\n      value: obj.length > 0 ? obj.join(',') || null : void undefined\n    }];\n  } else if (is_array(filter)) {\n    obj_keys = filter;\n  } else {\n    const keys = Object.keys(obj);\n    obj_keys = sort ? keys.sort(sort) : keys;\n  }\n  const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n  const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n  if (allowEmptyArrays && is_array(obj) && obj.length === 0) {\n    return adjusted_prefix + '[]';\n  }\n  for (let j = 0; j < obj_keys.length; ++j) {\n    const key = obj_keys[j];\n    const value =\n    // @ts-ignore\n    typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n    if (skipNulls && value === null) {\n      continue;\n    }\n    // @ts-ignore\n    const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n    const key_prefix = is_array(obj) ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n    sideChannel.set(object, step);\n    const valueSideChannel = new WeakMap();\n    valueSideChannel.set(sentinel, sideChannel);\n    push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys,\n    // @ts-ignore\n    generateArrayPrefix === 'comma' && encodeValuesOnly && is_array(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n  }\n  return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n  if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n    throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n  }\n  if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n    throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n  }\n  if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n  const charset = opts.charset || defaults.charset;\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n  let format = formats_1.default_format;\n  if (typeof opts.format !== 'undefined') {\n    if (!has.call(formats_1.formatters, opts.format)) {\n      throw new TypeError('Unknown format option provided.');\n    }\n    format = opts.format;\n  }\n  const formatter = formats_1.formatters[format];\n  let filter = defaults.filter;\n  if (typeof opts.filter === 'function' || is_array(opts.filter)) {\n    filter = opts.filter;\n  }\n  let arrayFormat;\n  if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n    arrayFormat = opts.arrayFormat;\n  } else if ('indices' in opts) {\n    arrayFormat = opts.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = defaults.arrayFormat;\n  }\n  if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n    throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n  }\n  const allowDots = typeof opts.allowDots === 'undefined' ? !!opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n  return {\n    addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n    // @ts-ignore\n    allowDots: allowDots,\n    allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n    arrayFormat: arrayFormat,\n    charset: charset,\n    charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    commaRoundTrip: !!opts.commaRoundTrip,\n    delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n    encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n    encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n    encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n    encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n    filter: filter,\n    format: format,\n    formatter: formatter,\n    serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n    skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n    // @ts-ignore\n    sort: typeof opts.sort === 'function' ? opts.sort : null,\n    strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n  };\n}\nfunction stringify(object, opts = {}) {\n  let obj = object;\n  const options = normalize_stringify_options(opts);\n  let obj_keys;\n  let filter;\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (is_array(options.filter)) {\n    filter = options.filter;\n    obj_keys = filter;\n  }\n  const keys = [];\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n  const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n  const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n  if (!obj_keys) {\n    obj_keys = Object.keys(obj);\n  }\n  if (options.sort) {\n    obj_keys.sort(options.sort);\n  }\n  const sideChannel = new WeakMap();\n  for (let i = 0; i < obj_keys.length; ++i) {\n    const key = obj_keys[i];\n    if (options.skipNulls && obj[key] === null) {\n      continue;\n    }\n    push_to_array(keys, inner_stringify(obj[key], key,\n    // @ts-expect-error\n    generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n  }\n  const joined = keys.join(options.delimiter);\n  let prefix = options.addQueryPrefix === true ? '?' : '';\n  if (options.charsetSentinel) {\n    if (options.charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('âœ“')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n  return joined.length > 0 ? prefix + joined : '';\n}\nexports.stringify = stringify;","map":{"version":3,"names":["utils_1","require","formats_1","has","Object","prototype","hasOwnProperty","array_prefix_generators","brackets","prefix","String","comma","indices","key","repeat","is_array","Array","isArray","push","push_to_array","arr","value_or_array","apply","to_ISO","Date","toISOString","defaults","addQueryPrefix","allowDots","allowEmptyArrays","arrayFormat","charset","charsetSentinel","delimiter","encode","encodeDotInKeys","encoder","encodeValuesOnly","format","default_format","formatter","formatters","serializeDate","date","call","skipNulls","strictNullHandling","is_non_nullish_primitive","v","sentinel","inner_stringify","object","generateArrayPrefix","commaRoundTrip","filter","sort","sideChannel","obj","tmp_sc","step","find_flag","get","undefined","pos","RangeError","maybe_map","value","is_buffer","key_value","values","obj_keys","length","join","keys","encoded_prefix","replace","adjusted_prefix","j","encoded_key","key_prefix","set","valueSideChannel","WeakMap","normalize_stringify_options","opts","TypeError","stringify","options","i","joined","exports"],"sources":["../../src/internal/qs/stringify.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}